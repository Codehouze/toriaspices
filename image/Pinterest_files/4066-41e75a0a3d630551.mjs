(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4066],{762587:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,s){n=n||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(n);var i=1e3;s&&"number"==typeof s.maxKeys&&(i=s.maxKeys);var c=e.length;i>0&&c>i&&(c=i);for(var u=0;u<c;++u){var l,d,h,p,_=e[u].replace(o,"%20"),m=_.indexOf(r);m>=0?(l=_.substr(0,m),d=_.substr(m+1)):(l=_,d=""),h=decodeURIComponent(l),p=decodeURIComponent(d),t(a,h)?Array.isArray(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,s){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(s){var a=encodeURIComponent(t(s))+r;return Array.isArray(e[s])?e[s].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[s]))})).join(n):s?encodeURIComponent(t(s))+r+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},52511:function(e,t,n){var r;e=n.nmd(e),function(s){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var o,i=2147483647,c=36,u=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,_=String.fromCharCode;function m(e){throw RangeError(h[e])}function f(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function E(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+f((e=e.replace(d,".")).split("."),t).join(".")}function g(e){for(var t,n,r=[],s=0,a=e.length;s<a;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<a?56320==(64512&(n=e.charCodeAt(s++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),s--):r.push(t);return r}function O(e){return f(e,(function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=_(e)})).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=c)e=p(e/35);return p(r+36*e/(e+38))}function v(e){var t,n,r,s,a,o,u,l,d,h,_,f=[],E=e.length,g=0,T=128,v=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),f.push(e.charCodeAt(r));for(s=n>0?n+1:0;s<E;){for(a=g,o=1,u=c;s>=E&&m("invalid-input"),((l=(_=e.charCodeAt(s++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:c)>=c||l>p((i-g)/o))&&m("overflow"),g+=l*o,!(l<(d=u<=v?1:u>=v+26?26:u-v));u+=c)o>p(i/(h=c-d))&&m("overflow"),o*=h;v=A(g-a,t=f.length+1,0==a),p(g/t)>i-T&&m("overflow"),T+=p(g/t),g%=t,f.splice(g++,0,T)}return O(f)}function R(e){var t,n,r,s,a,o,u,l,d,h,f,E,O,v,R,I=[];for(E=(e=g(e)).length,t=128,n=0,a=72,o=0;o<E;++o)(f=e[o])<128&&I.push(_(f));for(r=s=I.length,s&&I.push("-");r<E;){for(u=i,o=0;o<E;++o)(f=e[o])>=t&&f<u&&(u=f);for(u-t>p((i-n)/(O=r+1))&&m("overflow"),n+=(u-t)*O,t=u,o=0;o<E;++o)if((f=e[o])<t&&++n>i&&m("overflow"),f==t){for(l=n,d=c;!(l<(h=d<=a?1:d>=a+26?26:d-a));d+=c)R=l-h,v=c-h,I.push(_(T(h+R%v,0))),l=p(R/v);I.push(_(T(l,0))),a=A(n,O,r==s),n=0,++r}++n,++t}return I.join("")}o={version:"1.3.2",ucs2:{decode:g,encode:O},decode:v,encode:R,toASCII:function(e){return E(e,(function(e){return l.test(e)?"xn--"+R(e):e}))},toUnicode:function(e){return E(e,(function(e){return u.test(e)?v(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},608575:(e,t,n)=>{var r=n(52511),s=n(762502);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=O,t.resolve=function(e,t){return O(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?O(e,!1,!0).resolveObject(t):t},t.format=function(e){s.isString(e)&&(e=O(e));return e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),d=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(817673);function O(e,t,n){if(e&&s.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),i=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(i);u[0]=u[0].replace(/\\/g,"/");var O=e=u.join(i);if(O=O.trim(),!n&&1===e.split("#").length){var T=c.exec(O);if(T)return this.path=O,this.href=O,this.pathname=T[1],T[2]?(this.search=T[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var A=o.exec(O);if(A){var v=(A=A[0]).toLowerCase();this.protocol=v,O=O.substr(A.length)}if(n||A||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var R="//"===O.substr(0,2);!R||A&&f[A]||(O=O.substr(2),this.slashes=!0)}if(!f[A]&&(R||A&&!E[A])){for(var I,S,C=-1,y=0;y<h.length;y++){-1!==(N=O.indexOf(h[y]))&&(-1===C||N<C)&&(C=N)}-1!==(S=-1===C?O.lastIndexOf("@"):O.lastIndexOf("@",C))&&(I=O.slice(0,S),O=O.slice(S+1),this.auth=decodeURIComponent(I)),C=-1;for(y=0;y<d.length;y++){var N;-1!==(N=O.indexOf(d[y]))&&(-1===C||N<C)&&(C=N)}-1===C&&(C=O.length),this.host=O.slice(0,C),O=O.slice(C),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var b=this.hostname.split(/\./),D=(y=0,b.length);y<D;y++){var w=b[y];if(w&&!w.match(p)){for(var U="",x=0,L=w.length;x<L;x++)w.charCodeAt(x)>127?U+="x":U+=w[x];if(!U.match(p)){var M=b.slice(0,y),k=b.slice(y+1),G=w.match(_);G&&(M.push(G[1]),k.unshift(G[2])),k.length&&(O="/"+k.join(".")+O),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var Z=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+Z,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[v])for(y=0,D=l.length;y<D;y++){var j=l[y];if(-1!==O.indexOf(j)){var B=encodeURIComponent(j);B===j&&(B=escape(j)),O=O.split(j).join(B)}}var q=O.indexOf("#");-1!==q&&(this.hash=O.substr(q),O=O.slice(0,q));var F=O.indexOf("?");if(-1!==F?(this.search=O.substr(F),this.query=O.substr(F+1),t&&(this.query=g.parse(this.query)),O=O.slice(0,F)):t&&(this.search="",this.query={}),O&&(this.pathname=O),E[v]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Z=this.pathname||"";var V=this.search||"";this.path=Z+V}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query));var i=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),i&&"?"!==i.charAt(0)&&(i="?"+i),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(i=i.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(O(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(s.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var i=r[o];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return E[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!E[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var p=d[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||f[e.protocol])n.pathname=e.pathname;else{for(var _=(e.pathname||"").split("/");_.length&&!(e.host=_.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==_[0]&&_.unshift(""),_.length<2&&_.unshift(""),n.pathname=_.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var O=n.pathname&&"/"===n.pathname.charAt(0),T=e.host||e.pathname&&"/"===e.pathname.charAt(0),A=T||O||n.host&&e.pathname,v=A,R=n.pathname&&n.pathname.split("/")||[],I=(_=e.pathname&&e.pathname.split("/")||[],n.protocol&&!E[n.protocol]);if(I&&(n.hostname="",n.port=null,n.host&&(""===R[0]?R[0]=n.host:R.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===_[0]?_[0]=e.host:_.unshift(e.host)),e.host=null),A=A&&(""===_[0]||""===R[0])),T)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,R=_;else if(_.length)R||(R=[]),R.pop(),R=R.concat(_),n.search=e.search,n.query=e.query;else if(!s.isNullOrUndefined(e.search)){if(I)n.hostname=n.host=R.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!R.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=R.slice(-1)[0],C=(n.host||e.host||R.length>1)&&("."===S||".."===S)||""===S,y=0,N=R.length;N>=0;N--)"."===(S=R[N])?R.splice(N,1):".."===S?(R.splice(N,1),y++):y&&(R.splice(N,1),y--);if(!A&&!v)for(;y--;y)R.unshift("..");!A||""===R[0]||R[0]&&"/"===R[0].charAt(0)||R.unshift(""),C&&"/"!==R.join("/").substr(-1)&&R.push("");var P,b=""===R[0]||R[0]&&"/"===R[0].charAt(0);I&&(n.hostname=n.host=b?"":R.length?R.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(A=A||n.host&&R.length)&&!b&&R.unshift(""),R.length?n.pathname=R.join("/"):(n.pathname=null,n.path=null),s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},762502:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},582998:(e,t,n)=>{n.d(t,{K:()=>i});var r=n(59439),s=n(896625),a=n(196533);let o=null;const i={fromGlobalContext:function(){if(o)return o;const e=(0,a.Z)({context:s.Z.instance,...(0,r.Z)(s.Z.instance)});var t;return t=s.Z.instance,0!==Object.keys(t).length&&(o=e),e}}},397066:(e,t,n)=>{n.d(t,{b:()=>l,h:()=>d});var r=n(768559),s=n(246133),a=n(966113),o=n(582998),i=n(619937),c=n(48714),u=n(366284);const l=({href:e,pinId:t,pin:n,location:s,auxData:l},d)=>{if(n&&n.is_promoted){const f=(0,r.Z)(n,s),E=(0,c.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:f,auxData:l}),g=o.K.fromGlobalContext();if((0,u.G6)(g.userAgent.browserName)){var h;const{group:r}=g.experiments.checkExperiment("m10n_event_conversion_measurement");let s=null!==(h=g.userAgent)&&void 0!==h&&h.browserVersion?g.userAgent.browserVersion:"0.0";if(s=parseFloat(s.split(".")[0]+"."+s.split(".")[1]),void 0!==n.campaign_id&&s>=14.1&&["enabled_safari"].includes(r)){var p;const r=n.attribution_source_id?((e,t,n)=>{const r=document.createElement("a");return r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(i.$N.ATTRIBUTION_SOURCE_ID,e),r.setAttribute(i.$N.ATTRIBUTE_DESTINATION,n),r.setAttribute(i.$N.ATTRIBUTE_ON,n),r.click(),e})(n.attribution_source_id,E,e):((e,t,n)=>{const r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block";const s=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return r.setAttribute(i.$N.ATTRIBUTION_SOURCE_ID,s),r.setAttribute(i.$N.ATTRIBUTE_DESTINATION,n),r.setAttribute(i.$N.ATTRIBUTE_ON,n),r.click(),s})(null!==(p=n.pin_promotion_id)&&void 0!==p?p:0,E,e);return d({event_type:101,clientTrackingParams:f,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:r,page_url:e}}),!0}}else if((0,u.i7)(g.userAgent.browserName)){var _;const{group:r}=g.experiments.checkExperiment("m10n_event_conversion_measurement_chrome"),s=null!==(_=g.userAgent)&&void 0!==_&&_.browserVersion?parseInt(g.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&s>=101&&["enabled"].includes(r)){var m;const r=((e,t,n)=>{const r=new URL(`${a.Z.settings.CANONICAL_MAIN_URL}/attribution_source/`);r.searchParams.set(i.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),r.searchParams.set(i.NR.ATTRIBUTION_DESTINATION,n),r.searchParams.set(i.NR.ATTRIBUTION_EXPIRY,""+i.uV);const s=document.createElement("a");return s.setAttribute("href",t),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener nofollow noreferrer"),s.style.cursor="pointer",s.style.display="block",s.setAttribute(i.NR.ATTRIBUTION_SOURCE,r.toString()),s.click(),e})(null!==(m=n.attribution_source_id)&&void 0!==m?m:"0",E,e);return d({event_type:101,clientTrackingParams:f,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:r,page_url:e}}),!0}}}return!1},d=({href:e,pinId:t,pin:n,location:a,auxData:o},i)=>{if("undefined"!=typeof window&&window.Windows)(0,s.Z)({url:e,pinId:t,pin:n,location:a,auxData:o});else{if(l({href:e,pinId:t,pin:n,location:a,auxData:o},i))return;(0,c.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,r.Z)(n,a),auxData:o})}}},246133:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(768559),s=n(102500),a=n(48714);function o({url:e,pinId:t,pin:n,location:o,auxData:i}){const c={check_only:!0,client_tracking_params:n?(0,r.Z)(n,o):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(i)};(0,s.Z)(c).callGet().then((s=>{if(s&&s.resource_response&&!s.resource_response.error){const{resource_response:e}=s,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){const s=(0,r.Z)(n,o);(0,a.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:s,auxData:i})}else(0,a.Gj)({url:e,pinId:t})}))}},619937:(e,t,n)=>{n.d(t,{$N:()=>v,GY:()=>g,MZ:()=>m,NR:()=>T,Vn:()=>O,fm:()=>r,kM:()=>a,q6:()=>s,qp:()=>E,uV:()=>A,vJ:()=>f});const r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},s={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},o="Shopify",i="WordPress",c="WooCommerce",u="Weebly",l="Tealium",d="Magento",h="Squarespace",p="Ecwid",_="Bigcommerce",m={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},f={["Google Tag Manager"]:m.GOOGLE_TAG_MANAGER,[o]:m.SHOPIFY,[c]:m.WOO_COMMERCE,[i]:m.WORDPRESS,[h]:m.SQUARESPACE,[u]:m.WEEBLY,[l]:m.TEALIUM,[d]:m.MAGENTO,[p]:m.ECWID,[_]:m.BIG_COMMERCE},E={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},g={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},O={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},T={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},A=604800,v={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},768559:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(826067);const s=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,a=(e,t)=>t?e.substring(t.length).split("/")[0]:e,o=(e,t,n,o)=>{var i;if(!e)return"";let c="";const u=t.board&&t.board.url;switch(e){case"/":case"/homefeed/":return"UserHomefeedResource";case t.pinner&&`/${t.pinner.username}/pins/`:return"UserPinsResource";case t.pinner&&`/${t.pinner.username}/`:case/\/_activity\//.test(e)&&e:return"UserActivityPinsResource";case/\/_created\//.test(e)&&e:return t.story_pin_data_id?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(e)&&e:return"UserDiscoveredPinsResource";case/\/_shop\//.test(e)&&e:return"StoreFrontFeedResource";case/\/_saved\//.test(e)&&e:return"BoardlessPinsResource";case t.pinner&&`/${t.pinner.username}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(e)&&e:return"VisualLiveSearchResource";case/\/pin\//.test(e)&&e:c="/pin/";const l=a(e,c);if(t.id!==l)return t.call_to_create_source_pin_id?`ApiResource_callToCreatePins_${l}`:`RelatedPinFeedResource_${l}`;break;case/\/search\//.test(e)&&e:if(n){return`SearchResource_${((0,r.mB)(n,{shouldDecode:!1}).q||"").toLowerCase()}`}if(o)return`SearchResource_${encodeURIComponent(o.q||"").toLowerCase()}`;break;case/\/discover\/article\//.test(e)&&e:c="/discover/article/";return`ExploreArticleResource_${a(e,c)}`;case/\/categories\//.test(e)&&e:c="/categories/";return`CategoryFeedResource_${a(e,c)}`;case/\/discover\/topics\//.test(e)&&e:return"CategoryFeedResource";case/\/news_hub\//.test(e)&&e:c="/news_hub/";return`NewsHubDetailsResource_${a(e,c)}`;case/\/_tools\/more-ideas\//.test(e)&&e:return"BoardContentRecommendationResource";case/\/topics\//.test(e)&&e:c="/topics/";return`TopicFeedResource_${a(e,c)}`;case t.pinner&&`/${t.pinner.username}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(e)&&e:c="/source/";return`DomainFeedResource_${a(e,c)}`;case/\/explore\//.test(e)&&e:c="/explore/";return`SearchResource_${a(e,c)}`;case u:case!!u&&/\/more_ideas\//.test(e)&&e:return"BoardFeedResource";case u&&e.indexOf(u)>-1&&e:return"BoardSectionPinsResource";case/\/following\//.test(e)&&e:return"FollowingFeedResource";case/\/brand_catalog\//.test(e)&&e:return"BrandCatalogFeedResource";case s.test(e)&&e:return`TodayArticleFeedResource_${(null===(i=e.match(s))||void 0===i?void 0:i[2])||"unknown"}`;case/\/today\//.test(e):return"TodayTabResource";case/\story_feed\//.test(e)&&e:if(n){const{feed_type:e,request_params:t}=(0,r.mB)(n);return`StoryFeedResource_${e}_${t}`}break;case/\/your-shop\//.test(e)&&e:return"PersonalBoutiqueResource"}return""},i=(e,t,n)=>{if(!e||!e.tracking_params||!t)return;if(!e.tracking_params_map)return`${e.tracking_params}~0`;const{pathname:r,search:s,query:a}=t,i=o(r,e,s,a),c=e.tracking_params_map||{},u=Object.keys(c);let l;if((r||"").startsWith("/pin/")){const e=u.find((e=>"PinResource"!==e));l=e?c[e]:c.PinResource}else l=c[i];let d;if(!l&&n&&n.length){const t=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(n[n.length-1].location);d=o(t,e,s,a),l=c[d]}return l||(l=`${e.tracking_params||""}~0`),l}},966476:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(667294);const s=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t(!0)}),[]),e}},48714:(e,t,n)=>{n.d(t,{nS:()=>A,iw:()=>R,gV:()=>O,G3:()=>I,lI:()=>S,Gj:()=>v,Jd:()=>g,$3:()=>T});var r=n(231486),s=n(56641),a=n(768559),o=n(250059);const i=e=>"string"!=typeof e&&e?e.state:null;var c=n(643913),u=n(547239),l=n(508847),d=n(102500),h=n(246133),p=n(579164),_=n(307640),m=n(397066),f=n(623568),E=n(226198);const g=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},O=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),T=({location:e,pin:t,surface:n})=>!(0,f.jL)(t)&&(({location:e,pinId:t,surface:n})=>{const r=Boolean(n),s=_.ZF.includes(n),a=e.pathname.includes(t);return r&&!s||a})({location:e,pinId:t.id,surface:n}),A=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";r.t8((0,E.GS)(t),n);const s=`${t}-${n}`,{queryParams:a,url:o}=e;let i={token:s,url:o};if(!a){const{pinId:t,csrId:n,clientTrackingParams:r,auxData:s}=e;i={...i,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:r,aux_data:s?JSON.stringify(s):void 0}}a&&(i={...i,...a});return`/offsite/?${(0,c.Z)(i)}`},v=e=>{(0,s.Z)(A(e),!0)},R=async({isMounted:e,pin:t,location:n,spamCheckCallback:r,href:s})=>{const o=await(0,d.Z)({check_only:!0,client_tracking_params:(0,a.Z)(t,n),pin_id:null==t?void 0:t.id,url:s}).callGet({showError:!1});if(!o.resource_response.error&&e){const e=o.resource_response.data||{},{message:t,redirect_status:n,url:s}=e;r({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:s})}},I=({event:e,onHistoryChange:t,href:n,history:r,target:a})=>{const c=(0,o.Z)(n),d=i(n),h=(0,u.Z)(c);h===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===a?(0,s.Z)(c,"blank"===a):r&&h===p.Z.SAME_ORIGIN&&(r.push((0,l.Z)({url:c}),null!=d?d:{}),t&&t({event:e}))},S=({href:e,pinId:t,pin:n,location:r,auxData:s,spamCheck:o,queryParams:i},c,u)=>{"undefined"!=typeof window&&window.Windows?(0,h.Z)({url:e,pinId:t,pin:n,location:r,auxData:s}):n?(({spamCheck:e,auxData:t,location:n,pin:r,pinId:s,href:o},i,c)=>{if(null!=e&&e.blocked)null==c||c(e);else{if((0,m.b)({href:o,pinId:s,pin:r,location:n,auxData:t},i))return;v({url:o,pinId:s,csrId:null,clientTrackingParams:(0,a.Z)(r,n),auxData:t})}})({spamCheck:o,auxData:s,location:r,pin:n,pinId:t,href:e},c,u):v({url:e,pinId:t,queryParams:i})}},102500:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(6637);function s(e){return r.ZP.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,n)=>{n.d(t,{Z:()=>l,p:()=>d});var r=n(667294),s=n(250059),a=n(149230),o=n(407043),i=n(643074),c=n(48714),u=n(925927);function l(e){var t;const{externalData:n,href:l,onHistoryChange:d,target:h}=e,{logContextEvent:p}=(0,o.v)(),[_,m]=(0,r.useState)(null),[f,E]=(0,r.useState)(!1),g=(0,u.k6)(),O=(0,u.TH)(),T=(0,a.Z)({url:(0,s.Z)(l)}),{showWarning:A}=null!==(t=(0,i.s)())&&void 0!==t?t:{};return(0,r.useEffect)((()=>(E(!0),()=>{E(!1)})),[]),(0,r.useEffect)((()=>{T&&null!=n&&n.pin&&null===_&&(0,c.$3)({location:O,pin:n.pin,surface:n.surface})&&(0,c.iw)({isMounted:f,pin:n.pin,location:O,spamCheckCallback:e=>m(e),href:(0,s.Z)(l)})}),[n,l,T,f,O,_]),({event:e})=>{var t;(0,c.gV)({isOffsiteUrl:T,event:e})||(e.preventDefault(),l&&(T||null!=n&&n.dangerouslyForceOffsiteUrl?(0,c.lI)({auxData:null==n?void 0:n.auxData,href:(0,s.Z)(l),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:O,spamCheck:_},p,A):(0,c.G3)({event:e,href:l,history:g,onHistoryChange:d,target:"blank"===h?"blank":null})))}}const d=({children:e,...t})=>e({handleClick:l(t)})},160694:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(466225);class s{constructor(e={},t={},n=!1){var r,s,a;a=!1,(s="useBatching")in(r=this)?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}checkExperiment(e,t){null!=t&&t.dangerouslySkipActivation||this.v2ActivateExperiment(e);const n=this.v2GetGroup(e)||"";return{anyEnabled:(0,r.Z)(n),group:n}}}},87939:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(479218),s=n(6637),a=n(160694);class o extends a.Z{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let r=this.active[e];return void 0===r&&t&&(r=this.triggerable[e],void 0!==r&&(this.active[e]=r,this._reportExperimentActivated(e,n,r))),r||null}_reportExperimentActivated(e,t,n,a){const o={add_to_experiment:!!t,experiment_name:e};if(a&&(o.override_group=a),n&&(o.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new r.Z("ActivateExperimentResource",(e=>({experiments:e})))),this._queuedResource.enqueue(o);else{s.ZP.create("ActivateExperimentResource",o).callCreate({showError:!1})}}}},59439:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(125203);function s(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:s}=e;return{experiments:new r.Z(t,n,s)}}},125203:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(87939).Z},813401:(e,t,n)=>{n.d(t,{kf:()=>f,l5:()=>_,of:()=>h,xC:()=>m,yz:()=>p});var r=n(667294),s=n(172071),a=n(829407),o=n(807609),i=n(30287),c=n(425288),u=n(785893);const{Provider:l,useMaybeHook:d}=(0,c.Z)("PwaContext"),h=({children:e,initialContext:t})=>{const[n,o]=(0,r.useState)(null),c=t||{pwaType:"unknown",twaType:null},d=c.pwaType;(0,a.Z)((()=>{const e=(0,i.FB)(window)||"unknown";o(e),d!==e&&s.Z.increment("pwa.type_mismatch",1,{serverPwaType:d,clientPwaType:e,conflict:"unknown"!==d&&"unknown"!==e})}));const h="unknown"===d&&n?n:d,p=c.twaType,_=(0,r.useMemo)((()=>({pwaType:h,twaType:p})),[h,p]);return(0,u.jsx)(l,{value:_,children:e})},p=()=>{var e;const t=d();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},_=()=>{var e;const t=d();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},m=()=>"android-twa"===p(),f=()=>{const e=p(),t=(0,o.Z)();return"unknown"===e&&t?null:"windows"===e}},196533:(e,t,n)=>{function r(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isInternalIP:t.is_internal_ip,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar","he"].includes(t.language),isSocialBot:!!t.social_bot,language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,requestIdentifier:t.request_identifier,sterlingOnSteroidsLdap:t.sterling_on_steroids_ldap,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}}n.d(t,{Z:()=>r})},864537:(e,t,n)=>{n.d(t,{Jc:()=>i,NO:()=>o,R3:()=>a,ge:()=>l,th:()=>c});var r=n(643913);const s=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],a={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function o(e){return(e||"").trim().replace(/\s+/g," ")}function i({type:e,term:t="",index:n}){switch(e){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case a.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case a.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case a.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case a.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function c({queryStates:e}){return 0===e.length?"":"&"+(0,r.Z)({term_meta:e.map((e=>i(e)))})}function u(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>s.includes(e.toLowerCase())))?[e]:t}return[]}function l({type:e,query:t="",index:n}){switch(e){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return u(t).map((t=>({index:n,term:t,type:e})));case a.AUTO_COMPLETE_RECENT_SEARCH:case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:case a.AUTO_COMPLETE_TRENDING:case a.AUTO_COMPLETE_DEFAULT:return u(t).map((t=>({term:t,type:e,index:n})));default:return[]}}},250059:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(954931);const s=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,r.Z)(e))},508847:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(567831);const s=(e,t)=>0===e.lastIndexOf(t,0),a=({url:e})=>{const t=(0,r.Z)("/");return s(e,t)?e.substr(t.length-1):e}},807609:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(411465),s=n(966476);const a=()=>{const e=(0,r.Z)(),t=(0,s.Z)();return e&&!t}},307640:(e,t,n)=>{n.d(t,{UP:()=>i,Wv:()=>s,ZF:()=>r,zI:()=>a,zl:()=>o});const r=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],s=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...s,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],o=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],i=["BaseBoardPinGrid"]},479301:(e,t,n)=>{n.d(t,{i5:()=>T,sX:()=>v,Z5:()=>O,NG:()=>A,MT:()=>R});var r=n(667294),s=n(6637),a=n(802201),o=n(682492),i=n.n(o);const c=(e,t)=>e.data[t]&&e.data[t].messages||[];function u(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,r)=>{const s=t(r);return n[s]?(i()(n[s],r),e):(n[s]=r,e.concat([r]))}),[])}function l(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function d(e,t,n){let r=c(e,t).concat(n);return r=u(r,(e=>e.id)),l(r)}const h={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,pinAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=h,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,pinAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,pinAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:r}=t.payload;return delete n.data[r],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:r,response:s}=t.payload,a=s.resource_response.data;if("ConversationMessagesResource"===r){const t=a||[],r=(null==n?void 0:n.conversation_id)||"",s=d(e,r,t),o=s[s.length-1];return{...e,data:{...e.data,[r]:{...e.data[r],id:r,messages:s,unread:0,last_message:o}}}}if("ConversationsResource"===r){const t=a||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:r,name:s,board:a,emails:o,unread:i,users:c,last_message:u}=e,l=d(n,t,[u]);n.data[t]={...n.data[t],id:t,created_at:r,name:s,board:a,emails:o||[],unread:i||0,users:c||[],last_message:u,messages:l}})),n}if("ConversationResource"===r){const t=a||{},{id:n}=t,r={...e,data:{...e.data}};return n&&(r.data[n]={...r.data[n],...t}),r}if("NewsHubBadgeResource"===r){if(a){const t=a.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:r}=t.payload;if(e.data[n]){const t=d(e,n,[r]);return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:t,last_message:r}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:n,messageId:r,newMessageId:s}=t.payload;if(e.data[n]){const t=c(e,n).find((e=>e.id===r));if(t){const a={...t,id:s};let o=c(e,n).filter((e=>e.id!==r)).concat([a]);return o=u(o,(e=>e.id)),o=l(o),{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:o}}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{pinId:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,pinAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,pinAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var _=n(425288),m=n(505920),f=n(785893);const E=(()=>{let e=0;return()=>e++})(),{Provider:g,useHook:O}=(0,_.Z)("Conversations");function T({children:e}){const[t,n]=(0,r.useReducer)(p,h),a=(0,r.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",a),(0,m.Z8)("ConversationsResource",a),(0,m.Z8)("ConversationResource",a),(0,m.Z8)("NewsHubBadgeResource",a);const o=(0,r.useCallback)(((e,t=!1,r="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:r}})),[]),i=(0,r.useCallback)(((e,t="",r=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:r}})),[]),c=(0,r.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),u=(0,r.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),l=(0,r.useCallback)(((e,t,r)=>{s.ZP.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";r(t)}))}),[]),d=(0,r.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),_=(0,r.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),E=(0,r.useCallback)(((e="")=>{n({type:"OPEN_NEW_MESSAGE",payload:{pinId:e}})}),[]),O=(0,r.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),T=(0,r.useCallback)(((e,t,r)=>n({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:r}})),[]),A=(0,r.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),v=(0,r.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),R=(0,r.useMemo)((()=>({conversationOpen:o,conversationClose:i,conversationCreate:c,conversationDelete:u,conversationGet:l,dropdownClose:d,dropdownOpen:_,newMessageOpen:E,pendingMessageSend:O,pendingMessageClear:T,updateNewsHubCount:A,updateUnreadCount:v,conversations:t})),[o,i,c,u,l,d,_,E,O,T,A,v,t]);return(0,f.jsx)(g,{value:R,children:e})}function A(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageClear:r}=O(),o=(0,a.AF)();return(a,i,c,u)=>new Promise(((l,d)=>{const{text:h,pinId:p,boardId:_,userId:m,didItId:f}=i;function g(){const e=s.ZP.create("ConversationMessagesResource",{conversation_id:a,text:h,pin:p,board:_,user:m,user_did_it_data:f,source:c}),t=`${E()}`;n(a,{text:h,sender:u,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:p?o[p]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{r(a,t,e.resource_response.data.id),l()})).catch(d)}e.data[a]?g():s.ZP.create("ConversationResource",{conversation_id:a}).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;t(n),g()}))}))}function v(e){const{conversations:t}=O();return t.data[e]}function R(e){const{conversations:t}=O();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},480622:(e,t,n)=>{n.d(t,{C:()=>c,f:()=>i});var r=n(667294),s=n(425288),a=n(785893);const{Provider:o,useHook:i}=(0,s.Z)("MostRecentPin");function c({children:e}){const[t,n]=(0,r.useState)(),[s,i]=(0,r.useState)(),c=(0,r.useCallback)((e=>{const t=s?s.slice(0,10):[],n=[e].concat(t.filter((t=>t!==e)));i(n)}),[s]),u=(0,r.useMemo)((()=>({id:t,plpImageSignatures:s,setMostRecentPinId:n,setMostRecentPinImage:c})),[t,s,c]);return(0,a.jsx)(o,{value:u,children:e})}},330899:(e,t,n)=>{n.d(t,{x:()=>i,y:()=>c});var r=n(667294),s=n(425288),a=n(785893);const{Provider:o,useMaybeHook:i}=(0,s.Z)("ProfileViewContext");function c({children:e}){const[t,n]=(0,r.useState)(),[s,i]=(0,r.useState)(new Map),[c,u]=(0,r.useState)(),[l,d]=(0,r.useState)(),h=(0,r.useCallback)(((e,t)=>{i(new Map(s.set(e,t)))}),[s]),p=(0,r.useMemo)((()=>({boardPinDensity:t,boardSortOrder:s,profileBoardView:c,profilePinDensity:l,setBoardPinDensity:n,updateBoardSortOrder:h,setProfileBoardView:u,setProfilePinDensity:d})),[t,s,c,l,h]);return(0,a.jsx)(o,{value:p,children:e})}},711108:(e,t,n)=>{n.d(t,{l:()=>l,E:()=>u});var r=n(667294),s=n(425288);function a(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:s}=t;if("ShareSuggestionsResource"===s.resource){var n;const r=t.payload.response.resource_response.data||[],{term:a=""}=null!==(n=s.options)&&void 0!==n?n:{};return{...e,[a]:r}}if("ShareSuggestionsTypeaheadResource"===s.resource){var r;const n=(t.payload.response.resource_response.data||{}).items||[],{term:a=""}=null!==(r=s.options)&&void 0!==r?r:{};return{...e,[a]:n}}}return e}var o=n(505920),i=n(785893);const{Provider:c,useHook:u}=(0,s.Z)("ShareSuggestions");function l({children:e}){const[t,n]=(0,r.useReducer)(a,{}),s=e=>{n({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,o.Z8)("ShareSuggestionsResource",s),(0,o.Z8)("ShareSuggestionsTypeaheadResource",s);const u=(0,r.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,i.jsx)(c,{value:u,children:e})}},643074:(e,t,n)=>{n.d(t,{Z:()=>E,s:()=>f});var r=n(667294),s=n(121151),a=n(966113),o=n(608575),i=n(898781),c=n(349700),u=n(883119),l=n(785893);const d=()=>{var e;const t=(0,i.ZP)(),{dismissWarning:n}=null!==(e=f())&&void 0!==e?e:{};return(0,l.jsx)(u.xu,{paddingX:3,children:(0,l.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:n,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},h=()=>{const e=(0,i.ZP)();return(0,l.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(u.rU,{target:"blank",href:a.Z.settings.POLICY_COMMUNITY_GUIDELINES_SPAM_AND_QUALITY,inline:!0,underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=({message:e,sanitized_url:t})=>{var n;const r=(0,i.ZP)(),{dismissWarning:a}=null!==(n=f())&&void 0!==n?n:{};return(0,l.jsx)(s.ZP,{accessibilityModalLabel:r._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:a,heading:r._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,l.jsx)(d,{}),children:(0,l.jsxs)(u.xu,{padding:6,children:[(0,l.jsx)(u.xv,{children:(0,c.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,l.jsx)(h,{},"learnMoreLink")})}),(0,l.jsxs)(u.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,l.jsx)(u.xu,{marginEnd:3,children:(0,l.jsx)(u.JO,{accessibilityLabel:r._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,l.jsx)(u.xv,{inline:!0,lineClamp:1,weight:"bold",children:o.parse(t).hostname})]})]})})};var _=n(425288);const{Provider:m,useMaybeHook:f}=(0,_.Z)("SpammyClickthrough");function E({children:e}){const[t,n]=(0,r.useState)(null),s=(0,r.useCallback)((()=>{n(null)}),[n]),a=(0,r.useCallback)((e=>{n(e)}),[n]),o=(0,r.useMemo)((()=>({dismissWarning:s,showWarning:a})),[s,a]);return(0,l.jsxs)(m,{value:o,children:[t&&(0,l.jsx)(p,{...t}),e]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/4066-41e75a0a3d630551.mjs.map