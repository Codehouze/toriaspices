(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68290],{294184:(e,t)=>{var r;!function(){var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)&&r.length){var i=n.apply(null,r);i&&e.push(i)}else if("object"===s)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},407043:(e,t,r)=>{r.d(t,{B:()=>l,v:()=>a});var o=r(385740),n=r(425288),s=r(785893);const{Provider:i,useHook:a}=(0,n.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:r}=(0,o.sV)();return t.injectSetViewContextDataFromHook=r,(0,s.jsx)(i,{value:t,children:e})}},112690:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(407043);const n=()=>(0,o.v)().logContextEvent},385740:(e,t,r)=>{r.d(t,{BE:()=>c,Ih:()=>u,SU:()=>d,sV:()=>a});var o=r(667294),n=r(425288),s=r(785893);const{Provider:i,useHook:a}=(0,n.Z)("View");let l;function c(){return l}function u({children:e,initialState:t={}}){const[r,n]=(0,o.useState)(t),a=(0,o.useCallback)((()=>{l={},n({})}),[]),c=(0,o.useCallback)((e=>{l={...l,...e},n((t=>({...t,...e})))}),[]),u=(0,o.useMemo)((()=>({viewContextData:r,clearViewContextData:a,setViewContextData:c})),[r,c,a]);return(0,s.jsx)(o.Fragment,{children:(0,s.jsx)(i,{value:u,children:e})})}function d(){const{viewContextData:e}=a();return e}},425288:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(667294),n=r(785893);function s(e,t){let r=e.slice(1);if(r=r.endsWith("Context")?r:`${r}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${r}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${r}`,messageDisplayName:`${e[0].toUpperCase()}${r}`}}function i(e,t){const r=(0,o.createContext)(t),{propsDisplayName:i,messageDisplayName:a}=s(e);r.displayName=a;const l=r.Provider,c=({children:e})=>{const t=(0,o.useContext)(r);if(void 0===t)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(t)},u=()=>(0,o.useContext)(r);function d(t){const{hocDisplayName:r}=s(e,String(t.displayName||t.name)),o=e=>(0,n.jsx)(c,{children:o=>{if(void 0===o)throw new Error(`${r} must be used within a ${a}Provider.`);if(e[i])throw new Error("Parent Component and Context are passing to the component the same variables.");const s={[i]:o};return(0,n.jsx)(t,{...e,...s})}});return o.displayName=r,o}return l.displayName=`${a}Provider`,c.displayName=`${a}Consumer`,d.displayName=`${a}HOC`,{Provider:l,Consumer:c,MaybeConsumer:({children:e})=>e((0,o.useContext)(r)),useMaybeHook:u,useHook:function(){const e=u();if(void 0===e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e},deprecatedHOC:d}}},375571:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(667294),n=r(172071),s=r(395164);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends o.Component{constructor(...e){super(...e),i(this,"state",{error:null,info:null}),i(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{const t=this.props.name,r=this.props.type||"secondary";(0,s.T)({errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),n.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(r){n.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},898781:(e,t,r)=>{r.d(t,{ZP:()=>a,oz:()=>s,q6:()=>n});var o=r(425288);const{Provider:n,Consumer:s,useHook:i}=(0,o.Z)("i18n"),a=i},623568:(e,t,r)=>{r.d(t,{Js:()=>s,NK:()=>v,Nc:()=>_,VX:()=>i,Zt:()=>m,_J:()=>c,_Q:()=>n,cL:()=>p,dZ:()=>x,hb:()=>g,hy:()=>l,iR:()=>o,jL:()=>a,o:()=>f,pU:()=>y,rM:()=>h,sV:()=>u,sY:()=>d});const o=e=>!!e&&!!e.video_list,n=e=>!!e.promoted_is_lead_ad,s=(e,t)=>{let r=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(r=t.full_name),r},i=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},a=e=>!!e.promoter&&!e.is_downstream_promotion,l=({story_pin_data_id:e})=>!!e,c=e=>!!e.video_status&&5!==e.video_status,u=e=>["email","messages","deep_linking"].includes(e),d=e=>!!e&&"gif"===e,p=e=>!(!e.embed||!e.embed.src||d(e.embed.type)||(e=>!!e.embed&&"pinstory"===e.embed.subtype)(e)),h=({mobile_link:e,tracked_link:t,link:r})=>!e&&!t&&!r,m=e=>{var t,r,o;return e?e.mobile_link||e.tracked_link||e.link||(null!==(t=null===(r=(null!==(o=e.images)&&void 0!==o?o:{}).orig)||void 0===r?void 0:r.url)&&void 0!==t?t:""):null},g=e=>{const t="image";return e?l(e)?"storyPin":o(e.videos)?"video":t:t},v=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function _(e){var t,r;return!o(e.videos)&&!l(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(r=t.creator_analytics)||void 0===r?void 0:r["30d_realtime"])||{}).length}function f(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function y(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function x(e){var t,r;return!(null===(t=e.creator_analytics)||void 0===t||null===(r=t["30d_realtime"])||void 0===r||!r.is_realtime)}},862624:(e,t,r)=>{r.d(t,{Y:()=>s,u:()=>n});var o=r(425288);const{Provider:n,useHook:s}=(0,o.Z)("ExperimentContext")},466225:(e,t,r)=>{r.d(t,{Z:()=>o});const o=e=>e.startsWith("enabled")||e.startsWith("employee")},217468:(e,t,r)=>{r.d(t,{a:()=>a,t:()=>i});var o=r(667294),n=r(466225),s=r(862624);function i(e){const t=(0,s.Y)(),r=t.v2GetGroup(e)||"",i=(0,n.Z)(r),a=(e=>{const t=(0,o.useRef)(!1),r=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{t.current=!0,r.current&&e()}),[]),()=>{t.current?e():r.current=!0}})((()=>{t.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||a(),{group:r,anyEnabled:i})}function a(e,t=!0){const r=i(e);return t?r():{group:"",anyEnabled:!1}}},886858:(e,t,r)=>{r.d(t,{Z:()=>i,k:()=>s});const o=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),n=e=>!o.has(e)&&!e.startsWith("__track__");function s(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[r,o]=t.split("=");return e[r]=JSON.parse(o),e}),{})}const i=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(n).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},379725:(e,t,r)=>{r.d(t,{U2:()=>l,bi:()=>c,v_:()=>u});var o=r(886858),n=r(6637),s=r(414327),i=r(718368);function a({fetchOptions:e,resource:t,retry:r}){return(l,c)=>{var u,d,p;const{bookmark:h,headers:m,options:g,refresh:v,schema:_}=e,f=(0,o.Z)(g);if(null!==(u=c().resources)&&void 0!==u&&null!==(d=u[t])&&void 0!==d&&null!==(p=d[f])&&void 0!==p&&p.fetching&&!r)return Promise.resolve();const y=r?r.bookmark:h,x=y?{...g,bookmarks:[y]}:g;return l((0,s.LQ)(t,g,!0)),n.ZP.create(t,x).callGet(void 0,m).then((o=>{var c,u,d;const p=null===(c=o.resource_response)||void 0===c?void 0:c.data,[m]=o.bookmarks||[];if(Array.isArray(p)&&0===p.length&&m&&m!==i.q){const o=r?r.count:0;if(!(o>=i.s))return l(a({resource:t,fetchOptions:e,retry:{count:o+1,bookmark:m}}))}null===(u=n.ZP.customDataManipulations)||void 0===u||u.call(n.ZP,t,p,g);const{normalizedResponse:f,resourceSchema:y}=(null===(d=n.ZP.normalizeResponse)||void 0===d?void 0:d.call(n.ZP,{data:p,opts:{bookmark:h,options:g,schema:_},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?l((0,s.Dm)(t,g,o,f,y)):(l((0,s.Sr)(t,g,o,f,v,y)),n.ZP.fetchCompleteCallback&&n.ZP.fetchCompleteCallback({resource:t,options:g,response:o,normalizedResponse:f,refresh:v,resourceSchema:y})),Promise.resolve()}),(e=>{l((0,s.Tl)(t,g,e))}))}}const l=(e,{bookmark:t,headers:r,options:o,schema:n})=>a({resource:e,fetchOptions:{bookmark:t,headers:r,options:o,refresh:!1,schema:n}}),c=(e,{headers:t,options:r,schema:o})=>a({resource:e,fetchOptions:{headers:t,options:r,refresh:!0,schema:o}});function u(e,t,r){return o=>{const{options:i}=t;return n.ZP.create(e,i).callCreate().then((t=>{var n;if(null!==(n=t.resource_response)&&void 0!==n&&n.data){const n=t.resource_response.data,a=(null==r?void 0:r(n))||null;o((0,s.XM)(e,i,t,a))}return t}),(t=>(o((0,s.Tl)(e,i,t)),t)))}}},718368:(e,t,r)=>{r.d(t,{q:()=>o,s:()=>n});const o="-end-",n=10},338739:(e,t,r)=>{r.d(t,{AF:()=>o,KK:()=>n,aW:()=>a,cR:()=>s,se:()=>l,zP:()=>i});const o="CREATE_COMPLETE",n="FETCHING",s="FETCH_ERROR",i="FETCH_COMPLETE",a="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},414327:(e,t,r)=>{r.d(t,{Dm:()=>l,LQ:()=>s,Sr:()=>a,Tl:()=>i,XM:()=>n,jB:()=>c});var o=r(338739);function n(e,t,r,n){return{type:o.AF,payload:{resource:e,options:t,response:r,normalizedResponse:n}}}function s(e,t,r){return{type:o.KK,payload:{resource:e,options:t,isFetching:r}}}const i=(e,t,r)=>({type:o.cR,payload:{resource:e,options:t,error:r}});function a(e,t,r,n,s,i){return{type:o.zP,payload:{isRefresh:s,normalizedResponse:n,options:t,resource:e,response:r,schema:i}}}function l(e,t,r,n,s){return{type:o.aW,payload:{resource:e,options:t,response:r,normalizedResponse:n,schema:s}}}function c(e,t){return{type:o.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,r)=>{r.d(t,{Z:()=>d});var o=r(667294),n=r(966338),s=r(886858),i=r(718368),a=r(925927),l=r(780280),c=r(379725);const u={};function d({dangerouslyDisableFetch:e,enabledRouteRefresh:t,__unstableEnableSuspenseSupport:r,headers:d,name:p,noCache:h,options:m,schema:g}){const v=(0,n.useDispatch)(),_=(0,s.Z)(m),f=(0,o.useRef)(null),y=(0,o.useRef)(),x=(0,a.k6)(),b=x&&"POP"!==x.action,k=e=>(e[p]||u)[_]||u,C=(0,n.useSelector)((({resources:e})=>k(e).nextBookmark)),w=(0,n.useSelector)((({resources:e})=>k(e).data)),j=(0,n.useSelector)((({resources:e})=>k(e).auxData)),P=(0,n.useSelector)((({resources:e})=>k(e).error)),S=(0,n.useSelector)((({resources:e})=>Boolean(k(e).fetching))),T=Boolean(P)||void 0!==w,E=T&&!S&&C===i.q,R=Boolean(T&&t&&b&&!e),[O,Z]=(0,o.useState)(R),D=(0,o.useCallback)((e=>{f.current=v((0,c.U2)(p,{options:m,schema:g,bookmark:e,headers:d}))}),[v,p,_,g,d]),M=()=>{f.current=v((0,c.bi)(p,{options:m,schema:g,headers:d}))},{isBot:I}=(0,l.B)(),z=()=>{if(!e&&y.current!==_){const e=void 0===y.current;y.current=_,!T&&!S||e&&P&&(({httpStatus:e})=>!e||e>=500)(P)?D():(!I&&h||R)&&M()}};(0,o.useEffect)((()=>{r||z()})),r&&z();const N=(0,o.useCallback)((()=>{e||(M(),Z(!0))}),[e,c.bi,p,_,d,Z]),A=(0,o.useCallback)((()=>{!C||E||S||e||D(C)}),[e,D,C,E,S]);if(f.current)if(T&&!S)f.current=null;else if(r)throw f.current;const H=(0,o.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:A,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:N}),L={auxData:j,data:w,error:P,fetchMore:A,isAtEnd:E,isFetching:S,isLoaded:T,isRefreshing:O,nextBookmark:C,refresh:N};return(0,n.shallowEqual)(L,H.current)||(!O||!H.current.data&&R||(0,n.shallowEqual)(L.data,H.current.data)||(L.isRefreshing=!1,Z(!1)),H.current=L),H.current}},391143:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(643913);function n({storyCategory:e,query:t,referringSource:r,bubbleId:n,storyId:s}){const i=[0,24,21,26].includes(e),a=(0,o.Z)({q:t,rs:r||void 0,b_id:n,source_id:s});return i?`/discover/article/${n}`:"/search/pins/"+(a?"?"+a:"")}},940882:(e,t,r)=>{r.d(t,{J:()=>o,Z:()=>n});const o=-1;function n(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},858791:(e,t,r)=>{r.d(t,{Z:()=>o});const o=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},66699:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(985913),n=r(858791);const s=(e,t)=>{const r={};return Object.keys(t).forEach((e=>{r[e]=t[e]?(0,n.Z)(t[e].toString()):""})),(0,o.Z)(e,r)}},19121:(e,t,r)=>{r.d(t,{$:()=>n,Z:()=>i});var o=r(425288);const{Provider:n,useHook:s}=(0,o.Z)("viewer"),i=s},57636:(e,t,r)=>{r.d(t,{Z:()=>g});var o=r(667294),n=r(116303),s=r(63444),i=r(564194),a=r(391143),l=r(667976),c=r(66699),u=r(898781),d=r(19121),p=r(940882),h=r(883119),m=r(785893);function g({bubble:e,contextLogData:t,disableTabIndex:r,handleReport:g,height:v,imgSignature:_,isHovered:f,onClick:y,onMouseEnter:x,onMouseLeave:b,referringSource:k,searchBoxRenderStopwatch:C,showFlag:w,slotIndex:j,storyId:P,viewParameter:S,viewType:T,width:E}){const R=(0,u.ZP)(),O=(0,d.Z)(),{id:Z,action:D,cover_images:M,dominant_colors:I,identifier_icon_type:z,title:N,story_category:A,curator:H}=e,L=M&&M[0]?M[0]["280x280"]||M[0]["236x"]:void 0,B=(0,c.Z)(N&&N.format||"",N&&N.args||{}),F=I&&I.length?I[0]:"gray",$=(null==D?void 0:D.url)||(0,a.Z)({storyCategory:A,query:B,referringSource:k,bubbleId:Z,storyId:P});return(0,m.jsx)(i.Z,{impressionAuxFields:{storyCategory:A,storyIdStr:P},impressionType:"Article",loggingId:Z,viewType:T,viewParameter:S,slotIndex:j,contextLogData:{story_id:P,...t},children:(0,m.jsx)(s.Z,{backgroundColor:F,coverImage:L,disableTabIndex:r,height:v,id:Z,isHovered:f,onClick:y,onMouseEnter:x,onMouseLeave:b,searchBoxRenderStopwatch:C,url:$,width:E,children:({isHovered:e})=>(0,m.jsxs)(o.Fragment,{children:[H&&26!==A&&(0,m.jsx)(h.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,m.jsx)(n.Z,{outline:!0,size:"xs",src:H.image_small_url,name:H.full_name})}),z&&z!==p.J&&(0,m.jsx)(h.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,m.jsx)(h.JO,{icon:(0,p.Z)(z),accessibilityLabel:R._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,m.jsx)(h.xu,{display:"flex",height:v,width:E||"100%",position:"absolute",top:!0,padding:3,alignItems:26===A?"end":"center",justifyContent:"center",children:(0,m.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[v>200?(0,m.jsx)(h.X6,{size:"500",align:"center",color:"light",children:B}):(0,m.jsx)(h.xv,{align:"center",color:"light",weight:"bold",children:B}),H&&26===A&&(0,m.jsxs)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,m.jsx)(h.xu,{marginEnd:2,children:(0,m.jsx)(n.Z,{outline:!0,size:"xs",src:H.image_small_url,name:H.full_name})}),(0,m.jsx)(h.xv,{size:"100",color:"light",children:H.full_name})]})]})}),O.isAuth&&O.isEmployee&&w?(0,m.jsx)(h.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,m.jsx)(l.Z,{handleReport:g,imgSignature:_||"",isVisible:e})}):null]})})})}},63444:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(667294),n=r(883119),s=r(785893);const i={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function a({backgroundColor:e,children:t,coverImage:r,disableTabIndex:a,height:l,id:c,isHovered:u,onClick:d,onMouseEnter:p,onMouseLeave:h,url:m,width:g,searchBoxRenderStopwatch:v}){var _,f;const[y,x]=(0,o.useState)(!1),b=()=>{p?p():x(!0)},k=()=>{h?h():x(!1)},C=u||y;return(0,s.jsx)(n.iP,{role:"link",href:m,onBlur:k,onMouseLeave:k,onFocus:b,onMouseEnter:b,onTap:()=>{null==d||d(c)},rounding:4,tabIndex:a?-1:void 0,children:(0,s.jsx)(n.zd,{rounding:4,width:g||"100%",height:l,children:null!=r&&r.url?(0,s.jsxs)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(_=r.height)&&void 0!==_?_:1,naturalWidth:null!==(f=r.width)&&void 0!==f?f:1,onLoad:()=>{null==v||v.stop()},role:"presentation",src:r.url,children:[(0,s.jsx)(n.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:C?i.hoverOverlay:i.bubbleOverlay}}),"function"==typeof t?t({isHovered:C}):t]}):(0,s.jsx)(n.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:e}}})})})}},958155:(e,t,r)=>{r.d(t,{Z:()=>p});var o=r(667294);const n={backgroundColor:"transparent"},s={backgroundColor:"rgba(216, 216, 216, 0.37)"},i={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},a={outline:"0"};var l=r(883119),c=r(785893);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends o.Component{constructor(...e){super(...e),u(this,"state",{hovered:!1}),u(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),u(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:r="subtle"}=this.props,o=Object.freeze({height:e,width:e}),u={border:0,display:"block",background:"transparent",cursor:"pointer",...a},d={...o,...{...i,...n,...this.state.hovered?s:{}}};return(0,c.jsx)("button",{type:"button",style:u,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,c.jsx)("div",{style:d,children:(0,c.jsx)(l.xu,{rounding:"circle",children:(0,c.jsx)(l.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:r})})})})}}const p=d},667976:(e,t,r)=>{r.d(t,{Z:()=>g});var o=r(667294),n=r(958155),s=r(121151),i=r(6637),a=r(499128),l=r(844949),c=r(898781),u=r(343341),d=r(883119),p=r(785893);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends o.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",(()=>this.setState({showModal:!1}))),h(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),h(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:r}=t.props;t.setState({showModal:!1});r((await i.ZP.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),h(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(a.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')}))),this.handleDismiss())})),h(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(o.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(n.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(d.xu,{children:[(0,p.jsx)(d.xu,{padding:5,children:(0,p.jsx)(d.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(d.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(d.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(d.EU,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(d.xu,{flex:"grow",children:(0,p.jsx)(d.__,{htmlFor:"textType",children:(0,p.jsx)(d.xu,{paddingX:2,children:(0,p.jsx)(d.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(d.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(d.EU,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(d.xu,{flex:"grow",children:(0,p.jsx)(d.__,{htmlFor:"imageType",children:(0,p.jsx)(d.xu,{paddingX:2,children:(0,p.jsx)(d.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(d.iz,{}),(0,p.jsxs)(d.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(d.xu,{margin:2,children:(0,p.jsx)(d.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(d.xu,{margin:2,children:(0,p.jsx)(d.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})})]})}}function g(e){const t=(0,c.ZP)(),{reportImage:r}=(0,l.f)();return(0,p.jsx)(m,{...e,i18n:t,reportImage:r,toastManagerContext:(0,u.F9)()})}},844949:(e,t,r)=>{r.d(t,{X:()=>u,f:()=>c});var o=r(667294);function n(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var s=r(425288),i=r(623568),a=r(785893);const{Provider:l,useHook:c}=(0,s.Z)("ReportData");function u({children:e}){const[t,r]=(0,o.useReducer)(n,null),s=(0,o.useCallback)((()=>r({type:"REPORT_CONTENT_DISMISS"})),[]),c=(0,o.useCallback)(((e,t,o)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:o,type:"aggregatedComment"}})),[]),u=(0,o.useCallback)(((e,t,o)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:o,type:"pin"}})),[]),d=(0,o.useCallback)(((e,t,o)=>{const{id:n,videos:s}=e,a=(0,i.VX)(e),l=(0,i.jL)(e);let c;if((0,i.iR)(s)&&s){const{video_list:e={}}=s,t=e[Object.keys(e)[0]];c=t&&t.duration}r({type:"REPORT_CONTENT_SHOW",payload:{id:n,isProduct:a,isPromoted:l,videoDuration:c,viewParameter:t,viewType:o,type:"pin"}})}),[]),p=(0,o.useMemo)((()=>({reportData:t,dismiss:s,reportComment:c,reportImage:u,reportPin:d})),[t,s,c,u,d]);return(0,a.jsx)(l,{value:p,children:e})}},395164:(e,t,r)=>{r.d(t,{T:()=>i,Z:()=>a});var o=r(226198),n=r(314880);const s=[];function i(e){let t;try{t=JSON.stringify({errorObj:e})}catch(l){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const r=(i={report_context:JSON.stringify({current_url:window.location.href,client_version:"3ea6aef"}),report_data:t},Object.keys(i).map((e=>e+"="+encodeURIComponent(i[e]))).join("&"));var i;const a=window.btoa(r);if(-1===s.indexOf(a)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,n.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e.name+"=");return 2===t.length?t.pop().split(";").shift():""}(o.fS)),e.send(r),s.push(a)}s.length>100&&s.shift()}function a(){window.addEventListener("error",(e=>{const t=e.error||{};i({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,r,o,n,s;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,l="string"==typeof(null==a?void 0:a.message)?a.message:String(a);i({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(r=null!==(o=null==a?void 0:a.lineno)&&void 0!==o?o:null==a?void 0:a.line)&&void 0!==r?r:null==a?void 0:a.lineNumber,column:null!==(n=null!==(s=null==a?void 0:a.column)&&void 0!==s?s:null==a?void 0:a.colno)&&void 0!==n?n:null==a?void 0:a.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68290-ccb56583a855e593.mjs.map